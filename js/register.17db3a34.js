(self["webpackChunkfont_demo"]=self["webpackChunkfont_demo"]||[]).push([[685],{1318:function(e,t,n){var r=n(5656),s=n(1400),a=n(6244),o=function(e){return function(t,n,o){var i,u=r(t),c=a(u),p=s(o,c);if(e&&n!=n){while(c>p)if(i=u[p++],i!=i)return!0}else for(;c>p;p++)if((e||p in u)&&u[p]===n)return e||p||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},3658:function(e,t,n){"use strict";var r=n(9781),s=n(3157),a=TypeError,o=Object.getOwnPropertyDescriptor,i=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,t){if(s(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},9920:function(e,t,n){var r=n(2597),s=n(3887),a=n(1236),o=n(3070);e.exports=function(e,t,n){for(var i=s(t),u=o.f,c=a.f,p=0;p<i.length;p++){var l=i[p];r(e,l)||n&&r(n,l)||u(e,l,c(t,l))}}},7207:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var r=n(7854),s=n(1236).f,a=n(8880),o=n(8052),i=n(3072),u=n(9920),c=n(4705);e.exports=function(e,t){var n,p,l,f,d,m,w=e.target,h=e.global,g=e.stat;if(p=h?r:g?r[w]||i(w,{}):(r[w]||{}).prototype,p)for(l in t){if(d=t[l],e.dontCallGetSet?(m=s(p,l),f=m&&m.value):f=p[l],n=c(h?l:w+(g?".":"#")+l,e.forced),!n&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(p,l,d,e)}}},8361:function(e,t,n){var r=n(1702),s=n(7293),a=n(4326),o=Object,i=r("".split);e.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i(e,""):o(e)}:o},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:function(e,t,n){var r=n(7293),s=n(614),a=/#|\.prototype\./,o=function(e,t){var n=u[i(e)];return n==p||n!=c&&(s(t)?r(t):!!t)},i=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",p=o.POLYFILL="P";e.exports=o},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},1236:function(e,t,n){var r=n(9781),s=n(6916),a=n(5296),o=n(9114),i=n(5656),u=n(4948),c=n(2597),p=n(4664),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=i(e),t=u(t),p)try{return l(e,t)}catch(n){}if(c(e,t))return o(!s(a.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),s=n(748),a=s.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},6324:function(e,t,n){var r=n(1702),s=n(2597),a=n(5656),o=n(1318).indexOf,i=n(3501),u=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,p=[];for(n in r)!s(i,n)&&s(r,n)&&u(p,n);while(t.length>c)s(r,n=t[c++])&&(~o(p,n)||u(p,n));return p}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!n.call({1:2},1);t.f=s?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},3887:function(e,t,n){var r=n(5005),s=n(1702),a=n(8006),o=n(5181),i=n(9670),u=s([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(i(e)),n=o.f;return n?u(t,n(e)):t}},1400:function(e,t,n){var r=n(9303),s=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?s(n+t,0):a(n,t)}},5656:function(e,t,n){var r=n(8361),s=n(4488);e.exports=function(e){return r(s(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),s=Math.min;e.exports=function(e){return e>0?s(r(e),9007199254740991):0}},7658:function(e,t,n){"use strict";var r=n(2109),s=n(7908),a=n(6244),o=n(3658),i=n(7207),u=n(7293),c=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),p=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},l=c||!p();r({target:"Array",proto:!0,arity:1,forced:l},{push:function(e){var t=s(this),n=a(t),r=arguments.length;i(n+r);for(var u=0;u<r;u++)t[n]=arguments[u],n++;return o(t,n),n}})},7214:function(e,t,n){"use strict";var r=n(2863);t.Z={signIn({email:e,password:t}){return r.l.post("/signin",{email:e,password:t})},signUp({name:e,email:t,password:n,passwordCheck:s}){return r.l.post("/signup",{name:e,email:t,password:n,passwordCheck:s})}}},4438:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},S:function(){return c}});var r=n(6252),s=n(3577);const a={class:"toast"};function o(e,t,n,o,i,u){return(0,r.wg)(),(0,r.iD)("div",a,(0,s.zw)(n.message),1)}var i=n(2262),u={name:"ToastPart",props:["message"]};const c=()=>{const e=(0,i.qj)({show:!1,toastMessage:""}),t=t=>{e.show=!0,e.toastMessage=t,setTimeout((()=>{e.show=!1,e.toastMessage=""}),2e3)},{toastMessage:n,show:r}=(0,i.BK)(e);return{showToast:t,toastMessage:n,show:r}};var p=n(3744);const l=(0,p.Z)(u,[["render",o],["__scopeId","data-v-36d02f56"]]);var f=l},1740:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(6252),s=n(9963);const a=e=>((0,r.dD)("data-v-68b0faf8"),e=e(),(0,r.Cn)(),e),o={class:"wrapper"},i=a((()=>(0,r._)("img",{src:"http://www.dell-lee.com/imgs/vue3/user.png",alt:"",class:"wrapper__img"},null,-1))),u={action:""},c={class:"wrapper__input"},p={class:"wrapper__input"},l={class:"wrapper__input"},f={class:"wrapper__input"},d=["disabled"];function m(e,t,n,a,m,w){const h=(0,r.up)("Toast");return(0,r.wg)(),(0,r.iD)("div",o,[i,(0,r._)("form",u,[(0,r._)("div",c,[(0,r.wy)((0,r._)("input",{class:"wrapper__input__content","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),placeholder:"請輸入用戶名"},null,512),[[s.nr,a.username]])]),(0,r._)("div",p,[(0,r.wy)((0,r._)("input",{class:"wrapper__input__content","onUpdate:modelValue":t[1]||(t[1]=e=>a.email=e),placeholder:"請輸入信箱",type:"email"},null,512),[[s.nr,a.email]])]),(0,r._)("div",l,[(0,r.wy)((0,r._)("input",{class:"wrapper__input__content","onUpdate:modelValue":t[2]||(t[2]=e=>a.password=e),placeholder:"請輸入密碼",type:"password"},null,512),[[s.nr,a.password]])]),(0,r._)("div",f,[(0,r.wy)((0,r._)("input",{class:"wrapper__input__content","onUpdate:modelValue":t[3]||(t[3]=e=>a.ensurement=e),placeholder:"確認密碼",type:"password"},null,512),[[s.nr,a.ensurement]])]),(0,r._)("button",{class:"wrapper__register--button",onClick:t[4]||(t[4]=(...e)=>a.handleRegister&&a.handleRegister(...e)),disabled:a.isProcessing},"註冊",8,d)]),(0,r._)("div",{class:"wrapper__register--link",onClick:t[5]||(t[5]=(...e)=>a.handleLoginClick&&a.handleLoginClick(...e))},"已有帳號去登入"),a.show?((0,r.wg)(),(0,r.j4)(h,{key:0,message:a.toastMessage},null,8,["message"])):(0,r.kq)("",!0)])}n(7658);var w=n(2201),h=n(2262),g=n(7214),v=n(4438);const _=e=>{const t=(0,w.tv)(),n=(0,h.qj)({username:"",email:"",password:"",ensurement:""}),r=(0,h.iH)(!1),s=async()=>{try{const{username:s,email:a,password:o,ensurement:i}=n;if(!(s&&a&&o&&i))return e("輸入框不能為空");if(o!==i)return n.ensurement="",e("密碼不一致");const u=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(!u.test(a))return void e("無效的email");r.value=!0;const c=await g.Z.signUp({name:n.username,email:n.email,password:n.password,passwordCheck:n.ensurement}),p=c.data;if("success"!==p.status)throw new Error(n.message);t.push({name:"Login"})}catch(s){422===s.response.status&&e("email已經被註冊"),n.password="",n.ensurement="",r.value=!1}},{username:a,email:o,password:i,ensurement:u}=(0,h.BK)(n);return{username:a,email:o,password:i,handleRegister:s,ensurement:u,isProcessing:r}},y=()=>{const e=(0,w.tv)(),t=()=>{e.push({name:"Login"})};return{handleLoginClick:t}};var b={name:"RegisterPage",components:{Toast:v.Z},setup(){const{showToast:e,toastMessage:t,show:n}=(0,v.S)(),{handleLoginClick:r}=y(),{username:s,email:a,password:o,handleRegister:i,ensurement:u,isProcessing:c}=_(e);return{handleLoginClick:r,username:s,email:a,password:o,handleRegister:i,ensurement:u,toastMessage:t,show:n,isProcessing:c}}},x=n(3744);const O=(0,x.Z)(b,[["render",m],["__scopeId","data-v-68b0faf8"]]);var k=O}}]);
//# sourceMappingURL=register.17db3a34.js.map