(self["webpackChunkfont_demo"]=self["webpackChunkfont_demo"]||[]).push([[177],{1318:function(t,e,r){var n=r(5656),o=r(1400),a=r(6244),s=function(t){return function(e,r,s){var i,c=n(e),u=a(c),l=o(s,u);if(t&&r!=r){while(u>l)if(i=c[l++],i!=i)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3658:function(t,e,r){"use strict";var n=r(9781),o=r(3157),a=TypeError,s=Object.getOwnPropertyDescriptor,i=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=i?function(t,e){if(o(t)&&!s(t,"length").writable)throw a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},9920:function(t,e,r){var n=r(2597),o=r(3887),a=r(1236),s=r(3070);t.exports=function(t,e,r){for(var i=o(e),c=s.f,u=a.f,l=0;l<i.length;l++){var f=i[l];n(t,f)||r&&n(r,f)||c(t,f,u(e,f))}}},7207:function(t){var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,r){var n=r(7854),o=r(1236).f,a=r(8880),s=r(8052),i=r(3072),c=r(9920),u=r(4705);t.exports=function(t,e){var r,l,f,p,v,d,g=t.target,_=t.global,m=t.stat;if(l=_?n:m?n[g]||i(g,{}):(n[g]||{}).prototype,l)for(f in e){if(v=e[f],t.dontCallGetSet?(d=o(l,f),p=d&&d.value):p=l[f],r=u(_?f:g+(m?".":"#")+f,t.forced),!r&&void 0!==p){if(typeof v==typeof p)continue;c(v,p)}(t.sham||p&&p.sham)&&a(v,"sham",!0),s(l,f,v,t)}}},8361:function(t,e,r){var n=r(1702),o=r(7293),a=r(4326),s=Object,i=n("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?i(t,""):s(t)}:s},3157:function(t,e,r){var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:function(t,e,r){var n=r(7293),o=r(614),a=/#|\.prototype\./,s=function(t,e){var r=c[i(t)];return r==l||r!=u&&(o(e)?n(e):!!e)},i=s.normalize=function(t){return String(t).replace(a,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},6244:function(t,e,r){var n=r(7466);t.exports=function(t){return n(t.length)}},4758:function(t){var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},1236:function(t,e,r){var n=r(9781),o=r(6916),a=r(5296),s=r(9114),i=r(5656),c=r(4948),u=r(2597),l=r(4664),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=i(t),e=c(e),l)try{return f(t,e)}catch(r){}if(u(t,e))return s(!o(a.f,t,e),t[e])}},8006:function(t,e,r){var n=r(6324),o=r(748),a=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},6324:function(t,e,r){var n=r(1702),o=r(2597),a=r(5656),s=r(1318).indexOf,i=r(3501),c=n([].push);t.exports=function(t,e){var r,n=a(t),u=0,l=[];for(r in n)!o(i,r)&&o(n,r)&&c(l,r);while(e.length>u)o(n,r=e[u++])&&(~s(l,r)||c(l,r));return l}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},3887:function(t,e,r){var n=r(5005),o=r(1702),a=r(8006),s=r(5181),i=r(9670),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=a.f(i(t)),r=s.f;return r?c(e,r(t)):e}},1400:function(t,e,r){var n=r(9303),o=Math.max,a=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):a(r,e)}},5656:function(t,e,r){var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9303:function(t,e,r){var n=r(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},7466:function(t,e,r){var n=r(9303),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},7658:function(t,e,r){"use strict";var n=r(2109),o=r(7908),a=r(6244),s=r(3658),i=r(7207),c=r(7293),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=u||!l();n({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=o(this),r=a(e),n=arguments.length;i(r+n);for(var c=0;c<n;c++)e[r]=arguments[c],r++;return s(e,r),r}})},2316:function(t,e,r){"use strict";r.d(e,{Z:function(){return P}});var n=r(6252),o=r(3577);const a=["src"],s={class:"shop__content"},i={class:"shop__content__title"},c={class:"shop__content__tags"},u={class:"shop__content__tag"},l={key:0,class:"productList"},f={key:0,class:"product"},p=["src"],v={class:"product__detail"},d={class:"product__name"},g={class:"product__price"},_={class:"product__saleprice"};function m(t,e,r,m,h,y){return r.item?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"shop",onClick:e[0]||(e[0]=t=>m.toRestuarantClick(r.item.id))},[(0,n._)("img",{src:r.item.image,alt:"",class:"shop__img"},null,8,a),(0,n._)("div",s,[(0,n._)("div",i,(0,o.zw)(r.item.name),1),(0,n._)("div",c,[(0,n._)("span",u,(0,o.zw)(r.item.Category.name),1)]),r.item.Products?((0,n.wg)(),(0,n.iD)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.item.Products,(t=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t.id},[t.isShowProduct&&t.id?((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("img",{class:"product__img",src:t.image},null,8,p),(0,n._)("div",v,[(0,n._)("div",d,(0,o.zw)(t.name),1),(0,n._)("div",g,[(0,n._)("span",_,"$"+(0,o.zw)(t.price),1)])])])):(0,n.kq)("",!0)],64)))),128))])):(0,n.kq)("",!0)])])):(0,n.kq)("",!0)}r(7658);var h=r(1120),y={name:"shopInfo",props:{item:{}},setup(){const t=t=>{h.Z.push(`/shop/${t}`)};return{toRestuarantClick:t}}},w=r(3744);const b=(0,w.Z)(y,[["render",m],["__scopeId","data-v-cc7c631a"]]);var P=b},7809:function(t,e,r){"use strict";r.d(e,{Z:function(){return p}});var n=r(6252),o=r(3577);const a={class:"docker"},s={class:"awesomeicon"},i={class:"docker__title"};function c(t,e,r,c,u,l){const f=(0,n.up)("font-awesome-icon"),p=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",a,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.dockerList,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.icon,class:(0,o.C_)([{"docker__item--active":t.$route.name===e.to.name},"docker__item"])},[(0,n.Wm)(p,{to:e.to},{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n.Wm)(f,{icon:["fas",e.icon]},null,8,["icon"])]),(0,n._)("div",i,(0,o.zw)(e.text),1)])),_:2},1032,["to"])],2)))),128))])}var u={name:"DockerPart",setup(){const t=[{icon:"fa-house",text:"首頁",to:{name:"Home"}},{icon:"fa-cart-shopping",text:"購物車",to:{name:"Cart"}},{icon:"fa-receipt",text:"訂單",to:{name:"OrderList"}},{icon:"fa-user",text:"我的",to:{name:"My"}}];return{dockerList:t}}},l=r(3744);const f=(0,l.Z)(u,[["render",c],["__scopeId","data-v-764a6d4d"]]);var p=f},1230:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return F}});var n=r(6252);const o={class:"wrapper"};function a(t,e,r,a,s,i){const c=(0,n.up)("StaticPart"),u=(0,n.up)("NearbyPart"),l=(0,n.up)("DockerPart");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",o,[(0,n.Wm)(c),(0,n.Wm)(u)]),(0,n.Wm)(l)],64)}var s=r(3577);const i=t=>((0,n.dD)("data-v-4ae67d64"),t=t(),(0,n.Cn)(),t),c={class:"position"},u={class:"search"},l={class:"banner"},f={class:"icons"},p=i((()=>(0,n._)("button",{class:"icons__button"},"全部",-1))),v={class:"icons__button"},d=i((()=>(0,n._)("div",{class:"gap"},null,-1)));function g(t,e,r,o,a,i){const g=(0,n.up)("font-awesome-icon"),_=(0,n.up)("router-link"),m=(0,n.up)("Carousel");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",c,[(0,n.Wm)(g,{class:"position__icon",icon:"fa-solid fa-location-dot"}),(0,n.Uk)(" 269 宜蘭縣冬山鄉鹿梅路2號 "),(0,n.Wm)(g,{class:"position__notice",icon:"fa-regular fa-bell"})]),(0,n.Wm)(_,{to:"/search"},{default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n.Wm)(g,{class:"search__icon",icon:"fa-solid fa-magnifying-glass"}),(0,n.Uk)("搜尋餐廳 ")])])),_:1}),(0,n._)("div",l,[(0,n.Wm)(m)]),(0,n._)("div",f,[(0,n.Wm)(_,{to:{name:"Restaurants",query:{categoryId:""}}},{default:(0,n.w5)((()=>[p])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.getDataFromStore,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id},[(0,n.Wm)(_,{to:{name:"Restaurants",query:{categoryId:t.id}}},{default:(0,n.w5)((()=>[(0,n._)("button",v,(0,s.zw)(t.name),1)])),_:2},1032,["to"])])))),128))]),d],64)}var _=r(3907);const m=["src"];function h(t,e,o,a,i,c){return(0,n.wg)(),(0,n.iD)("div",{id:"slide",onMouseover:e[2]||(e[2]=(...t)=>a.stopInterval&&a.stopInterval(...t)),onMouseout:e[3]||(e[3]=(...t)=>a.startInterval&&a.startInterval(...t))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.items,(t=>((0,n.wg)(),(0,n.iD)("img",{key:t,src:r(2846)(`./${t}.png`),class:(0,s.C_)({show:t===a.currentItem})},null,10,m)))),128)),(0,n._)("a",{class:"prev",onClick:e[0]||(e[0]=(...t)=>a.showPrev&&a.showPrev(...t))}),(0,n._)("a",{class:"next",onClick:e[1]||(e[1]=(...t)=>a.showNext&&a.showNext(...t))})],32)}var y=r(2262),w={setup(){const t=(0,y.iH)(0),e=[701,702,703],r=e.length,o=(0,y.iH)(701),a=4e3;let s;const i=()=>{const n=Math.abs(t.value%r);o.value=e[n]},c=()=>{t.value++,i()},u=()=>{t.value--,i()},l=()=>{clearInterval(s)},f=()=>{s=setInterval(c,a)};return(0,n.bv)((()=>{f()})),{currentItem:o,stopInterval:l,startInterval:f,showPrev:u,showNext:c,items:e}}},b=r(3744);const P=(0,b.Z)(w,[["render",h],["__scopeId","data-v-0dc11502"]]);var x=P,k={name:"StaticPart",components:{Carousel:x},setup(){const t=(0,_.oR)(),e=(0,n.Fl)((()=>t.state.nearbyList.categories));return{getDataFromStore:e}}};const I=(0,b.Z)(k,[["render",g],["__scopeId","data-v-4ae67d64"]]);var D=I;const O=t=>((0,n.dD)("data-v-3ecc0e50"),t=t(),(0,n.Cn)(),t),L={class:"nearby"},C=O((()=>(0,n._)("h3",{class:"nearby__title"},"附近店家",-1))),M={class:"nearby__list"},H={ref:"loadMoreTrigger"},S={key:0,class:"state"};function N(t,e,r,o,a,s){const i=(0,n.up)("ShopInfo");return(0,n.wg)(),(0,n.iD)("div",L,[C,(0,n._)("div",M,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.nearbyList.restaurants,(t=>((0,n.wg)(),(0,n.j4)(i,{key:t.id,item:t},null,8,["item"])))),128))]),(0,n._)("div",H,null,512),o.isMaxPage?((0,n.wg)(),(0,n.iD)("div",S,"到底了")):(0,n.kq)("",!0)])}var W=r(2316),Z=r(4818),j=r(2201),E={name:"NearbyPart",components:{ShopInfo:W.Z},setup(){const t=(0,j.yj)(),e=(0,_.oR)(),r=(0,y.iH)({restaurants:[],categories:[],currentPage:1,totalPage:0,isLoading:!0}),o=async n=>{console.log("請求頁面:",n);try{const o=t.query.categoryId,a=await Z.Z.getRestaurants({page:n,categoryId:o});if(200===a?.status){const t=a.data.data;1===n?(r.value.restaurants=t.restaurants,r.value.categories=t.categories,r.value.totalPage=t.pagination.totalPage):r.value.restaurants=[...r.value.restaurants,...t.restaurants],r.value.currentPage=n,e.commit("changNearbyInfo",{nearbyList:r.value}),r.value.isLoading=!1,console.log("當前頁碼:",r.value.currentPage)}}catch(o){r.value.isLoading=!1,console.error("錯誤",o)}},a=(0,y.iH)(null),s=new IntersectionObserver((t=>{t[0].isIntersecting&&!r.value.isLoading&&(r.value.isLoading=!0,o(r.value.currentPage+1))})),i=(0,n.Fl)((()=>{const{currentPage:t,totalPage:e}=r.value;return t>e}));return(0,n.bv)((()=>{s.observe(a.value)})),(0,n.YP)((()=>t.query.categoryId),((t,e)=>{t!==e&&(r.value.isLoading=!0,r.value.currentPage=1,r.value.restaurants=[],o(1))})),o(r.value.currentPage),{nearbyList:r,loadMoreTrigger:a,isMaxPage:i}}};const Y=(0,b.Z)(E,[["render",N],["__scopeId","data-v-3ecc0e50"]]);var q=Y,z=r(7809),R={name:"HomePage",components:{StaticPart:D,NearbyPart:q,DockerPart:z.Z}};const T=(0,b.Z)(R,[["render",a],["__scopeId","data-v-28dbc5da"]]);var F=T},2846:function(t,e,r){var n={"./701.png":9292,"./702.png":6259,"./703.png":5359};function o(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id=2846},9292:function(t,e,r){"use strict";t.exports=r.p+"img/701.befbe79c.png"},6259:function(t,e,r){"use strict";t.exports=r.p+"img/702.8167488b.png"},5359:function(t,e,r){"use strict";t.exports=r.p+"img/703.e17bc543.png"}}]);
//# sourceMappingURL=home.8c96ade0.js.map