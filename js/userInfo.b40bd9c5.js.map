{"version":3,"file":"js/userInfo.b40bd9c5.js","mappings":"qPACOA,MAAM,W,GACJA,MAAM,O,UAETC,EAAAA,EAAAA,GAAiC,KAA9BD,MAAM,cAAa,WAAO,K,GAG1BA,MAAM,Q,GACHA,MAAM,c,GACLA,MAAM,c,UACTC,EAAAA,EAAAA,GAA0B,SAAnBC,IAAI,IAAG,QAAI,K,GAGfF,MAAM,a,GACFA,MAAM,eAAeE,IAAI,a,UAC9BD,EAAAA,EAAAA,GAAgB,SAAb,aAAS,K,0FAdtBE,EAAAA,EAAAA,IAqBM,MArBNC,EAqBM,EApBJH,EAAAA,EAAAA,GAIM,MAJNI,EAIM,EAHJC,EAAAA,EAAAA,IAAgGC,EAAA,CAA5EC,KAAM,CAAC,MAAO,gBAAiBR,MAAM,YAAaS,QAAOC,EAAAC,iB,oBAC7EC,GACAX,EAAAA,EAAAA,GAAwD,OAAnDD,MAAM,YAAaS,QAAKI,EAAA,KAAAA,EAAA,OAAAC,IAAEJ,EAAAK,iBAAAL,EAAAK,mBAAAD,KAAiB,SAElDb,EAAAA,EAAAA,GAcM,MAdNe,EAcM,EAbJf,EAAAA,EAAAA,GAYO,OAZPgB,EAYO,EAXLhB,EAAAA,EAAAA,GAGM,MAHNiB,EAGM,CAFJC,GAA0B,SAC1BlB,EAAAA,EAAAA,GAAqD,SAA9CmB,KAAK,OAAOC,KAAK,O,qCAAgBX,EAAAY,KAAKD,KAAIE,I,iBAATb,EAAAY,KAAKD,WAE/CpB,EAAAA,EAAAA,GAMM,MANNuB,EAMM,EALJvB,EAAAA,EAAAA,GAGQ,QAHRwB,EAGQ,CAFNC,EACWhB,EAAAY,KAAKK,QAAK,WAArBxB,EAAAA,EAAAA,IAA2C,O,MAAnByB,IAAKlB,EAAAY,KAAKK,O,8BAEpC1B,EAAAA,EAAAA,GAAiH,SAA1GmB,KAAK,OAAOC,KAAK,QAAQQ,GAAG,YAAYC,OAAO,UAAWC,SAAMlB,EAAA,KAAAA,EAAA,OAAAC,IAAEJ,EAAAsB,kBAAAtB,EAAAsB,oBAAAlB,IAAkBmB,MAAA,kB,2EAYrG,GACEZ,KAAM,WACNa,KAAAA,GACE,MAAMC,GAAQC,EAAAA,EAAAA,MACRd,GAAOe,EAAAA,EAAAA,IAAS,CACpBR,GAAI,GACJR,KAAM,GACNM,MAAO,KAEHhB,EAAkBA,KACtB2B,EAAAA,EAAOC,MAAM,EAGTP,EAAoBQ,IACxB,MAAM,MAAEC,GAAUD,EAAEE,OAEpB,GAAqB,IAAjBD,EAAME,OAERrB,EAAKK,MAAQ,OACR,CAEL,MAAMiB,EAAWC,OAAOC,IAAIC,gBAAgBN,EAAM,IAClDnB,EAAKK,MAAQiB,CACf,GAGI7B,EAAkBiC,UAEtB,MAAMC,EAAOC,SAASC,cAAc,QAC9BC,EAAW,IAAIC,SAASJ,GAC9B,IAAK,MAAO5B,EAAMiC,KAAUF,EAASG,UACnCC,QAAQC,IAAIpC,EAAO,KAAOiC,SAEtBnB,EAAMuB,SAAS,kBAAmB,CACtCN,aAEFd,EAAAA,EAAOC,MAAM,EAQf,OANAoB,EAAAA,EAAAA,KAAU,KACR,MAAMC,EAAOzB,EAAM0B,MAAMC,KACzBxC,EAAKO,GAAK+B,EAAK/B,GACfP,EAAKD,KAAOuC,EAAKvC,KACjBC,EAAKK,MAAQiC,EAAKjC,KAAI,IAEjB,CAAEhB,kBAAiBI,kBAAiBO,OAAMU,mBACnD,G,UCpEF,MAAM+B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://font-demo/./src/views/my/UserForm.vue","webpack://font-demo/./src/views/my/UserForm.vue?2d47"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"top\">\n      <font-awesome-icon :icon=\"['fas', 'chevron-left']\" class=\"top__icon\" @click=\"handleBackClick\" />\n      <p class=\"top__title\">編輯使用者資訊</p>\n      <div class=\"top__save\" @click=\"handleSaveClick\">保存</div>\n    </div>\n    <div class=\"info\">\n      <form class=\"info__list\">\n        <div class=\"info__name\">\n          <label for=\"\">名字 :</label>\n          <input type=\"text\" name=\"name\" v-model=\"info.name\" />\n        </div>\n        <div class=\"info__img\">\n          <label class=\"upload-label\" for=\"fileInput\">\n            <p>圖片：點擊圖片上傳</p>\n            <img v-if=\"info.image\" :src=\"info.image\" />\n          </label>\n          <input type=\"file\" name=\"image\" id=\"fileInput\" accept=\"image/*\" @change=\"handleFileChange\" style=\"display:none\"/>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { onMounted, reactive } from 'vue'\nimport { useStore } from 'vuex'\nimport router from '@/router'\n\nexport default {\n  name: 'UserForm',\n  setup () {\n    const store = useStore()\n    const info = reactive({\n      id: '',\n      name: '',\n      image: ''\n    })\n    const handleBackClick = () => {\n      router.back()\n    }\n\n    const handleFileChange = (e) => {\n      const { files } = e.target\n\n      if (files.length === 0) {\n        // 使用者沒有選擇上傳的檔案\n        info.image = ''\n      } else {\n        // 否則產生預覽圖\n        const imageURL = window.URL.createObjectURL(files[0])\n        info.image = imageURL\n      }\n    }\n\n    const handleSaveClick = async (event) => {\n      // 找到最近的父級 form 元素\n      const form = document.querySelector('form')\n      const formData = new FormData(form)\n      for (const [name, value] of formData.entries()) {\n        console.log(name + ': ' + value)\n      }\n      await store.dispatch('putUserInfoData', {\n        formData\n      })\n      router.back()\n    }\n    onMounted(() => {\n      const data = store.state.user\n      info.id = data.id\n      info.name = data.name\n      info.image = data.image\n    })\n    return { handleBackClick, handleSaveClick, info, handleFileChange }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n@import \"../../style/mixins.scss\";\n\n.wrapper {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #F1F1F1;\n\n  .top {\n    position: relative;\n    padding: 0 .18rem;\n    margin-bottom: .12rem;\n    display: flex;\n    font-size: .16rem;\n    line-height: .44rem;\n    color: #333;\n    background: #FFF;\n\n    &__icon {\n      position: absolute;\n      top: .14rem;\n      color: $search-fontColor;\n    }\n\n    &__title {\n      margin: auto;\n    }\n\n    &__save {\n      color: $content-fontcolor;\n    }\n  }\n\n  .info {\n    &__list {\n      padding: 0 .18rem;\n      font-size: .14rem;\n      line-height: .44rem;\n      list-style: none;\n      background: #FFF;\n    }\n    &__img {\n      display: flex;\n      flex-direction:column;\n      justify-content: top;\n    }\n    img {\n      margin-top: .1rem;\n      height:1rem;\n      width:1rem;\n      border-radius: 50%;\n    }\n\n    div {\n      display: flex;\n      border-bottom: solid #F1F1F1;\n\n      label {\n        font-size: 14px;\n        color: #666666;\n      }\n\n      input {\n        flex: 1;\n        padding: .05rem;\n        font-size: 14px;\n        color: #151515;\n        line-height: 20px;\n        outline: none;\n        border: none;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./UserForm.vue?vue&type=template&id=2c7818d8&scoped=true\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js\"\n\nimport \"./UserForm.vue?vue&type=style&index=0&id=2c7818d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2c7818d8\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_font_awesome_icon","icon","onClick","$setup","handleBackClick","_hoisted_3","_cache","args","handleSaveClick","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","type","name","info","$event","_hoisted_8","_hoisted_9","_hoisted_10","image","src","id","accept","onChange","handleFileChange","style","setup","store","useStore","reactive","router","back","e","files","target","length","imageURL","window","URL","createObjectURL","async","form","document","querySelector","formData","FormData","value","entries","console","log","dispatch","onMounted","data","state","user","__exports__","render"],"sourceRoot":""}