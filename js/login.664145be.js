(self["webpackChunkfont_demo"]=self["webpackChunkfont_demo"]||[]).push([[535],{1318:function(t,e,n){var r=n(5656),o=n(1400),s=n(6244),a=function(t){return function(e,n,a){var i,c=r(e),u=s(c),p=o(a,u);if(t&&n!=n){while(u>p)if(i=c[p++],i!=i)return!0}else for(;u>p;p++)if((t||p in c)&&c[p]===n)return t||p||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},3658:function(t,e,n){"use strict";var r=n(9781),o=n(3157),s=TypeError,a=Object.getOwnPropertyDescriptor,i=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=i?function(t,e){if(o(t)&&!a(t,"length").writable)throw s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},9920:function(t,e,n){var r=n(2597),o=n(3887),s=n(1236),a=n(3070);t.exports=function(t,e,n){for(var i=o(e),c=a.f,u=s.f,p=0;p<i.length;p++){var f=i[p];r(t,f)||n&&r(n,f)||c(t,f,u(e,f))}}},7207:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),o=n(1236).f,s=n(8880),a=n(8052),i=n(3072),c=n(9920),u=n(4705);t.exports=function(t,e){var n,p,f,l,d,h,g=t.target,w=t.global,v=t.stat;if(p=w?r:v?r[g]||i(g,{}):(r[g]||{}).prototype,p)for(f in e){if(d=e[f],t.dontCallGetSet?(h=o(p,f),l=h&&h.value):l=p[f],n=u(w?f:g+(v?".":"#")+f,t.forced),!n&&void 0!==l){if(typeof d==typeof l)continue;c(d,l)}(t.sham||l&&l.sham)&&s(d,"sham",!0),a(p,f,d,t)}}},8361:function(t,e,n){var r=n(1702),o=n(7293),s=n(4326),a=Object,i=r("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?i(t,""):a(t)}:a},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:function(t,e,n){var r=n(7293),o=n(614),s=/#|\.prototype\./,a=function(t,e){var n=c[i(t)];return n==p||n!=u&&(o(e)?r(e):!!e)},i=a.normalize=function(t){return String(t).replace(s,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",p=a.POLYFILL="P";t.exports=a},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},1236:function(t,e,n){var r=n(9781),o=n(6916),s=n(5296),a=n(9114),i=n(5656),c=n(4948),u=n(2597),p=n(4664),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=i(t),e=c(e),p)try{return f(t,e)}catch(n){}if(u(t,e))return a(!o(s.f,t,e),t[e])}},8006:function(t,e,n){var r=n(6324),o=n(748),s=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,s)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},6324:function(t,e,n){var r=n(1702),o=n(2597),s=n(5656),a=n(1318).indexOf,i=n(3501),c=r([].push);t.exports=function(t,e){var n,r=s(t),u=0,p=[];for(n in r)!o(i,n)&&o(r,n)&&c(p,n);while(e.length>u)o(r,n=e[u++])&&(~a(p,n)||c(p,n));return p}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},3887:function(t,e,n){var r=n(5005),o=n(1702),s=n(8006),a=n(5181),i=n(9670),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=s.f(i(t)),n=a.f;return n?c(e,n(t)):e}},1400:function(t,e,n){var r=n(9303),o=Math.max,s=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):s(n,e)}},5656:function(t,e,n){var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9303:function(t,e,n){var r=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},7466:function(t,e,n){var r=n(9303),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7658:function(t,e,n){"use strict";var r=n(2109),o=n(7908),s=n(6244),a=n(3658),i=n(7207),c=n(7293),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),p=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=u||!p();r({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=o(this),n=s(e),r=arguments.length;i(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return a(e,n),n}})},7214:function(t,e,n){"use strict";var r=n(2863);e.Z={signIn({email:t,password:e}){return r.l.post("/signin",{email:t,password:e})},signUp({name:t,email:e,password:n,passwordCheck:o}){return r.l.post("/signup",{name:t,email:e,password:n,passwordCheck:o})}}},4438:function(t,e,n){"use strict";n.d(e,{Z:function(){return l},S:function(){return u}});var r=n(6252),o=n(3577);const s={class:"toast"};function a(t,e,n,a,i,c){return(0,r.wg)(),(0,r.iD)("div",s,(0,o.zw)(n.message),1)}var i=n(2262),c={name:"ToastPart",props:["message"]};const u=()=>{const t=(0,i.qj)({show:!1,toastMessage:""}),e=e=>{t.show=!0,t.toastMessage=e,setTimeout((()=>{t.show=!1,t.toastMessage=""}),2e3)},{toastMessage:n,show:r}=(0,i.BK)(t);return{showToast:e,toastMessage:n,show:r}};var p=n(3744);const f=(0,p.Z)(c,[["render",a],["__scopeId","data-v-36d02f56"]]);var l=f},8150:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b}});var r=n(6252),o=n(9963);const s={class:"wrapper"},a={action:""},i={class:"wrapper__input"},c={class:"wrapper__input"},u=["disabled"];function p(t,e,n,p,f,l){const d=(0,r.up)("font-awesome-icon"),h=(0,r.up)("Toast");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(d,{icon:["fas","user"],style:{color:"#00aeff"},class:"wrapper__img"}),(0,r._)("form",a,[(0,r._)("div",i,[(0,r.wy)((0,r._)("input",{class:"wrapper__input__content",placeholder:"請輸入信箱","onUpdate:modelValue":e[0]||(e[0]=t=>p.email=t)},null,512),[[o.nr,p.email]])]),(0,r._)("div",c,[(0,r.wy)((0,r._)("input",{class:"wrapper__input__content",placeholder:"請輸入密碼",type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>p.password=t)},null,512),[[o.nr,p.password]])]),(0,r._)("button",{class:"wrapper__login--button",onClick:e[2]||(e[2]=(...t)=>p.handleLogin&&p.handleLogin(...t)),disabled:p.isProcessing,type:"submit"},"登入",8,u),(0,r._)("div",{class:"wrapper__login--link",onClick:e[3]||(e[3]=(...t)=>p.handleRegister&&p.handleRegister(...t))},"立即註冊"),p.show?((0,r.wg)(),(0,r.j4)(h,{key:0,message:p.toastMessage},null,8,["message"])):(0,r.kq)("",!0)])])}n(7658);var f=n(2201),l=n(2262),d=n(3907),h=n(4438),g=n(7214);const w=t=>{const e=(0,f.tv)(),n=(0,d.oR)(),r=(0,l.qj)({email:"",password:""}),o=(0,l.iH)(!1),s=async()=>{try{const{email:s,password:a}=r;if(!s||!a)return t("帳號或密碼不能為空");const i=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(!i.test(s))return void t("無效的email");o.value=!0;const c=await g.Z.signIn({email:r.email,password:r.password}),u=c.data;if("success"!==u.status)throw new Error(u.message);localStorage.setItem("token",u.token),n.commit("changeUserInfo",u),e.push({name:"Home"})}catch(s){t("登入失敗，帳密不正確"),o.value=!1}},{email:a,password:i}=(0,l.BK)(r);return{email:a,password:i,handleLogin:s,isProcessing:o}},v=()=>{const t=(0,f.tv)(),e=()=>{t.push({name:"Register"})};return{handleRegister:e}};var m={name:"LoginPage",components:{Toast:h.Z},setup(){const{showToast:t,toastMessage:e,show:n}=(0,h.S)(),{email:r,password:o,handleLogin:s,isProcessing:a}=w(t),{handleRegister:i}=v();return{handleRegister:i,toastMessage:e,show:n,email:r,password:o,handleLogin:s,isProcessing:a}}},y=n(3744);const _=(0,y.Z)(m,[["render",p],["__scopeId","data-v-37bd7c60"]]);var b=_}}]);
//# sourceMappingURL=login.664145be.js.map